{"version":3,"sources":["components/ImageGallery/ImageGallery.module.css","components/Modal/Modal.module.css","components/Button/Button.module.css","components/ImageGalleryItem/ImageGalleryItem.module.css","components/Spiner/Spiner.module.css","components/Searchbar/Searchbar.jsx","components/Button/Button.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/Spiner/Spiner.jsx","service/image-api.jsx","components/Modal/Modal.jsx","components/ImageGallery/ImageGallery.jsx","App.js","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","Searchbar","state","inputValue","handleInputChange","ev","setState","currentTarget","value","toLowerCase","handleSubmit","preventDefault","trim","props","onSubmit","toast","error","className","s","searchbar","form","this","type","button","button_icon","input","onChange","placeholder","Component","Button","clickBtn","onClick","ImageGalleryItem","webformatURL","largeImageURL","tags","clickImg","src","alt","galleryImage","prototype","PropTypes","string","isRequired","func","Spiner","spiner","color","margin","height","width","fetchImages","query","page","fetch","then","response","ok","json","Promise","reject","Error","number","Modal","handleKeyDown","e","code","onClose","handleClicOverlay","target","window","addEventListener","removeEventListener","overlay","modalCont","children","ImageGallery","images","loading","showModal","imageURL","togleModal","handleChangePage","clicktoImg","dataset","source","prevProps","prevState","searchQuery","requestFetch","data","hits","length","success","scrollTo","top","document","body","scrollHeight","behavior","catch","finally","gelleryList","map","picture","galleryItem","id","App","handlequeryChange","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.0298924f.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"gelleryList\":\"ImageGallery_gelleryList__3HtR0\",\"galleryItem\":\"ImageGallery_galleryItem__19mQs\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__1GXjN\",\"modalCont\":\"Modal_modalCont__3_1S4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__2Agwc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"galleryImage\":\"ImageGalleryItem_galleryImage__3hxz2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"spiner\":\"Spiner_spiner__3evm_\"};","import { Component } from 'react/cjs/react.production.min';\r\nimport { toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport { ImSearch } from 'react-icons/im';\r\nimport s from './Searchbar.module.css';\r\nimport PropTypes from 'prop-types';\r\n\r\nexport default class Searchbar extends Component {\r\n  static propTypes = {\r\n    onSubmit: PropTypes.func,\r\n  };\r\n  state = {\r\n    inputValue: '',\r\n  };\r\n\r\n  handleInputChange = ev => {\r\n    this.setState({ inputValue: ev.currentTarget.value.toLowerCase() });\r\n  };\r\n  handleSubmit = ev => {\r\n    ev.preventDefault();\r\n    if (this.state.inputValue.trim() === '') {\r\n      toast.error('enter a query');\r\n      return;\r\n    }\r\n    this.props.onSubmit(this.state.inputValue);\r\n    this.setState({ inputValue: '' });\r\n  };\r\n  render() {\r\n    return (\r\n      <header className={s.searchbar}>\r\n        <form className={s.form} onSubmit={this.handleSubmit}>\r\n          <button type=\"submit\" className={s.button}>\r\n            <ImSearch className={s.button_icon} />\r\n          </button>\r\n\r\n          <input\r\n            className={s.input}\r\n            type=\"text\"\r\n            value={this.state.inputValue}\r\n            onChange={this.handleInputChange}\r\n            placeholder=\"Search images and photos\"\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n","import s from './Button.module.css';\r\n\r\nfunction Button({ clickBtn }) {\r\n  return (\r\n    <button type=\"button\" className={s.button} onClick={clickBtn}>\r\n      Load more\r\n    </button>\r\n  );\r\n}\r\n\r\nexport default Button;\r\n","import s from './ImageGalleryItem.module.css';\r\nimport PropTypes from 'prop-types';\r\n\r\nfunction ImageGalleryItem({ webformatURL, largeImageURL, tags, clickImg }) {\r\n  return (\r\n    <img\r\n      src={webformatURL}\r\n      alt={tags}\r\n      className={s.galleryImage}\r\n      data-source={largeImageURL}\r\n      onClick={clickImg}\r\n    />\r\n  );\r\n}\r\n\r\nImageGalleryItem.prototype = {\r\n  webformatURL: PropTypes.string.isRequired,\r\n  largeImageURL: PropTypes.string.isRequired,\r\n  tags: PropTypes.string.isRequired,\r\n  clickImg: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n","import Loader from 'react-loader-spinner';\r\nimport s from './Spiner.module.css';\r\n\r\nfunction Spiner() {\r\n  return (\r\n    <div className={s.spiner}>\r\n      <Loader\r\n        type=\"Circles\"\r\n        color=\"#00BFFF\"\r\n        margin=\"0 auto\"\r\n        height={60}\r\n        width={60}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Spiner;\r\n","import PropTypes from 'prop-types';\r\n\r\nconst KEY = '24124599-81915d8fff3f3b2b5bfb5c22e';\r\n\r\nexport default function fetchImages(query, page) {\r\n  return fetch(\r\n    `https://pixabay.com/api/?q=${query}&page=${page}&key=${KEY}&image_type=photo&orientation=horizontal&per_page=12`\r\n  ).then(response => {\r\n    if (response.ok) {\r\n      return response.json();\r\n    }\r\n    return Promise.reject(new Error('No images found on request'));\r\n  });\r\n}\r\n\r\nfetchImages.prototype = {\r\n  query: PropTypes.string.isRequired,\r\n  page: PropTypes.number.isRequired,\r\n};\r\n","import { Component } from 'react';\r\nimport s from './Modal.module.css';\r\nimport PropTypes from 'prop-types';\r\n\r\nclass Modal extends Component {\r\n  static propTypes = {\r\n    onClose: PropTypes.func.isRequired,\r\n  };\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  handleKeyDown = e => {\r\n    if (e.code === 'Escape') {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  handleClicOverlay = e => {\r\n    if (e.target === e.currentTarget) {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className={s.overlay} onClick={this.handleClicOverlay}>\r\n        <div className={s.modalCont}>{this.props.children}</div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Modal;\r\n","import s from './ImageGallery.module.css';\r\nimport Button from '../Button/Button';\r\nimport { toast } from 'react-toastify';\r\nimport { Component } from 'react/cjs/react.production.min';\r\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\r\nimport Spiner from '../Spiner/Spiner';\r\nimport fetchImages from '../../service/image-api';\r\nimport Modal from '../Modal/Modal';\r\nimport PropTypes from 'prop-types';\r\n\r\nclass ImageGallery extends Component {\r\n  static propTypes = {\r\n    searchQuery: PropTypes.string,\r\n  };\r\n  state = {\r\n    images: [],\r\n    page: 1,\r\n    loading: false,\r\n    error: null,\r\n    showModal: false,\r\n    imageURL: null,\r\n  };\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (prevProps.searchQuery !== this.props.searchQuery) {\r\n      this.requestFetch([], 1);\r\n    }\r\n    const prevPage = prevState.page;\r\n    const nextPage = this.state.page;\r\n    if (prevPage !== nextPage) {\r\n      const { images, page } = this.state;\r\n      this.requestFetch(images, page);\r\n    }\r\n  }\r\n  togleModal = () => {\r\n    this.setState(({ showModal }) => ({\r\n      showModal: !showModal,\r\n    }));\r\n  };\r\n  handleChangePage = () => {\r\n    this.setState({ page: this.state.page + 1 });\r\n  };\r\n  clicktoImg = ev => {\r\n    this.setState({\r\n      imageURL: { alt: ev.target.alt, src: ev.target.dataset.source },\r\n    });\r\n    this.togleModal();\r\n  };\r\n  requestFetch(images, page) {\r\n    this.setState({ loading: true });\r\n    fetchImages(this.props.searchQuery, page)\r\n      .then(data => {\r\n        this.setState({\r\n          images: [...images, ...data.hits],\r\n        });\r\n        if (data.hits.length > 0) {\r\n          toast.success('request completed');\r\n          window.scrollTo({\r\n            top: document.body.scrollHeight,\r\n            behavior: 'smooth',\r\n          });\r\n        } else {\r\n          toast.error('No images found on request');\r\n        }\r\n      })\r\n      .catch(error => {\r\n        this.setState({ error });\r\n        toast.error(error);\r\n      })\r\n      .finally(() =>\r\n        this.setState({\r\n          loading: false,\r\n        })\r\n      );\r\n  }\r\n  render() {\r\n    const { images, imageURL, loading, showModal } = this.state;\r\n    return (\r\n      <>\r\n        <ul className={s.gelleryList}>\r\n          {images.map(picture => (\r\n            <li key={picture.id} className={s.galleryItem}>\r\n              <ImageGalleryItem\r\n                webformatURL={picture.webformatURL}\r\n                largeImageURL={picture.largeImageURL}\r\n                tags={picture.tags}\r\n                clickImg={this.clicktoImg}\r\n              />\r\n            </li>\r\n          ))}\r\n        </ul>\r\n        {loading && <Spiner />}\r\n        {images.length > 0 && <Button clickBtn={this.handleChangePage} />}\r\n        {showModal && (\r\n          <Modal onClose={this.togleModal}>\r\n            <img src={imageURL.src} alt={imageURL.alt} />\r\n          </Modal>\r\n        )}\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ImageGallery;\r\n","import { Component } from 'react/cjs/react.production.min';\r\nimport './App.css';\r\nimport { ToastContainer } from 'react-toastify';\r\nimport Searchbar from './components/Searchbar/Searchbar';\r\nimport ImageGallery from './components/ImageGallery/ImageGallery';\r\n\r\nclass App extends Component {\r\n  state = {\r\n    searchQuery: '',\r\n  };\r\n  handlequeryChange = ev => {\r\n    this.setState({ searchQuery: ev });\r\n  };\r\n  render() {\r\n    const { searchQuery } = this.state;\r\n    return (\r\n      <>\r\n        <Searchbar onSubmit={this.handlequeryChange} />\r\n        {searchQuery.trim() !== '' && (\r\n          <ImageGallery searchQuery={this.state.searchQuery} />\r\n        )}\r\n        <ToastContainer />\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchbar\":\"Searchbar_searchbar__XRfRf\",\"form\":\"Searchbar_form__1vTzb\",\"button\":\"Searchbar_button__3Jzz1\",\"button_icon\":\"Searchbar_button_icon__2YeqE\",\"input\":\"Searchbar_input__1N-iq\"};"],"sourceRoot":""}